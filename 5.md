# 재귀함수란?

재귀적 구조(recursive structure)는 자기 내부에 자기 자신과 동일한 구조를 포함하는 구조입니다. 프로그래밍 언어에서 어떤 일을 되풀이하는 방법에는 두 가지가 있습니다: **반복(iteration)**과 **순환(recursion)**입니다.

## 반복 (Iteration)
반복은 `for`나 `while` 등의 반복문을 사용하여 반복시키는 문장을 작성하는 방식입니다.

## 순환 (Recursion)
순환은 자기 내부에 자기 자신과 동일한 구조를 포함하고, 자기 자신을 호출하는 방식입니다. 어떤 문제들은 반복을 사용하면 지나치게 복잡해지는 경우가 있습니다. 이런 경우에 순환은 매우 유용한 방법입니다. 예를 들어, 트리 알고리즘에서 트리의 순회나 노드의 삽입과 삭제 등을 다룰 때 순환이 많이 사용됩니다. 만약 이를 순환이 아닌 반복으로 구현한다면 매우 복잡해질 것입니다.

### 순환이 유용한 문제들
- 팩토리얼
- 거듭제곱
- 피보나치 수열
- GCD (최대공약수) 함수
- 하노이 타워
- 계단 오르기
- 미로 탐색

## 순환 호출의 내부적 구현

프로그래밍 언어에서 하나의 함수가 자기 자신을 다시 호출하는 것은 다른 함수를 호출하는 것과 동일합니다. 즉, 복귀 주소가 시스템 스택에 저장되고, 호출되는 함수의 파라미터와 지역 변수가 스택에서 할당됩니다. 이를 **활성 레코드(activation record)**라고 합니다.

순환 호출이 일어나면, 시스템 스택에서 활성 레코드들이 쌓입니다. 함수 호출이 끝나면 시스템 스택에서 복귀 주소를 꺼내어 자신을 호출한 함수로 돌아갑니다.

### 순환 호출을 위한 시스템 스택

- **함수 호출**: 함수가 자기 자신을 호출하면 시스템 스택에 활성 레코드가 쌓입니다.
- **복귀 주소**: 함수가 종료되면 복귀 주소가 스택에서 꺼내져 호출한 함수로 돌아갑니다.
- **시스템 스택**: 순환 호출이 계속 중첩되면 시스템 스택이 점차 커지며, 최종적으로 스택 오버플로우가 발생할 수 있습니다.

## 순환 알고리즘의 구조

순환 알고리즘은 크게 두 부분으로 나눌 수 있습니다:
1. **자기 자신을 순환적으로 호출하는 부분**
2. **순환 호출을 멈추는 부분**

순환 호출을 멈추는 부분이 없다면, 시스템 스택을 모두 소진하게 되어 스택 오버플로우 오류가 발생합니다. 따라서 **반드시 순환 호출을 멈추는 조건이 필요**합니다.

## 순환 호출 스택의 변화

순환 호출이 일어날 때마다 스택에서 활성 레코드들이 쌓이는 모습을 볼 수 있습니다. 아래 이미지는 순환 호출 시 스택의 변화를 나타냅니다.

![순환 호출 스택의 변화](https://github.com/user-attachments/assets/e088c35c-b66f-4032-832e-012ac0faaa94)

(출처: 구글 순환호출의 스택의 변화)

## 순환 알고리즘의 구조

순환 알고리즘의 기본 구조는 아래와 같습니다.

![순환 알고리즘의 구조](https://github.com/user-attachments/assets/874416d1-bfde-4ea6-a1bc-cd5be5a5b21e)

(출처: 구글 순환 알고리즘의 구조)
